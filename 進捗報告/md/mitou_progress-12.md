2023年度未踏 芝山PJ開発進捗報告(12月)
===

# Pythonにトランスパイル可能な静的型付け<br>プログラミング言語の開発
## 芝山駿介

---
# 12月の進捗

---
## コンパイラ

### 著名なPythonパッケージに対する型宣言の拡充

https://hugovk.github.io/top-pypi-packages からダウンロード数の多いパッケージを特定し
以下のパッケージに対して型宣言ファイルを作成・拡充した

* certifi
* idna
* jinja2
* matplotlib
* packaging
* SciPy
* six
* torch
* torchvision

---

### 著名なPythonパッケージに対する型宣言の拡充

Demo dayでは人工知能・機械学習系のライブコーディングデモをやろうと思っているのでtorchの型付けを重点的にやった

torchは非常に大きなパッケージなので、最低限の機能に絞って型付けする方針

---
### 型推論

* 辞書型、Srtructural型に対する機能強化・バグ修正を行なった

![h:400](itemgetter.png)

---
### その他

* 型宣言ファイルで補完が効かないLanguage Serverのバグを修正した
* 型推論のバグを修正した

---

## 課題

* 複雑な構造のパッケージでモジュール解決がうまくいかないバグが発生している
	* これを直さないとtorchが使えない

---
## 今後の予定

* ネイティブコードバックエンドは、より多くのコードを変換できるよう機能強化を進めるほか、バインディング機構の実装を行う
	* パッケージマネージャをバイナリにコンパイルできるようにする
* torch/torchvisionに対する型宣言を一通り付け終える
* ライブコーディングに向けてツールチェインの使用感の改善

---
# 進捗チャート

灰色が完了、青が進行中(2023/12/23現在)

![](progress12.png)

---

## おまけ

言語実装Advent Calendar 2023に参加しました
成果報告会の宣伝をしてきました

https://zenn.dev/mtshiba/articles/erg_progress_2023
